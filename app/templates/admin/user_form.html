{% extends "base.html" %}

{% if user %}
    {% set page_title = "Benutzer bearbeiten" %}
{% else %}
    {% set page_title = "Benutzer anlegen" %}
{% endif %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<h1 class="h3 mb-4">{{ page_title }}</h1>

<form method="post">
    <div class="mb-3">
        <label for="email" class="form-label">E-Mail</label>
        <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            required
            value="{{ user.email if user else '' }}"
        >
    </div>

    <div class="mb-3">
        <label for="password" class="form-label">
            Passwort
            {% if user %}
                <small class="text-muted">(leer lassen, um es nicht zu Ã¤ndern)</small>
            {% endif %}
        </label>
        <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            {% if not user %}required{% endif %}
        >
    </div>

    <div class="form-check form-switch mb-2">
        <input
            class="form-check-input"
            type="checkbox"
            id="is_active"
            name="is_active"
            {% if user is none or user.is_active %}checked{% endif %}
        >
        <label class="form-check-label" for="is_active">
            Benutzer ist aktiv
        </label>
    </div>

    <div class="form-check form-switch mb-4">
        <input
            class="form-check-input"
            type="checkbox"
            id="is_admin"
            name="is_admin"
            {% if user and user.is_admin %}checked{% endif %}
        >
        <label class="form-check-label" for="is_admin">
            Benutzer ist Admin
        </label>
    </div>

    <button type="submit" class="btn btn-primary">
        Speichern
    </button>
    <a href="{{ url_for('admin_users_list') }}" class="btn btn-secondary ms-2">
        Abbrechen
    </a>
</form>
{% endblock %}
